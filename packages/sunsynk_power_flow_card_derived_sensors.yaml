template:

#############################
#   
#   Sunsynk Power Flow Card - https://github.com/slipx06/sunsynk-power-flow-card
#   Derived sensors that are used upon the card
#

  # Sensor to show the Active Power for all the GPO's in the house, less the Network Rack and Fan, Servers and Study UPS sensors.
  # Used card entry: essential_load2
  - sensor:
    - name: "GPO ALL - Active Power Less Known"
      unique_id: gpo_all_active_power_less_known
      unit_of_measurement: "W"
      device_class: "power"
      state_class: measurement
      state: >-
        {% set gpo_total_active_power = states('sensor.gpo_total')|float(0) %}
        {% set all_it_active_power = states('sensor.it_hardware_active_power')|float(0) %}
        {% set whitegoods = states('sensor.gpo_clothes_dryer_power')|float(0) %}
        {{ (gpo_total_active_power - ( all_it_active_power + whitegoods ))|float(0)|round(0) }}
      availability: >-
        {{ (states('sensor.gpo_total')|is_number)
            and (states('sensor.it_hardware_active_power')|is_number) 
              and (states('sensor.gpo_clothes_dryer_power')|is_number) }}


  # Sensor to show the House Active Power Consumption less the sunsynk_power_flow  aux_active_power and non_essential_active_power sensors.
  # Used by card entry: essential_power
  - sensor:
    - name: "House Consumption Power Less Known"
      unique_id: house_consumption_power_less_known
      unit_of_measurement: "W"
      device_class: "power"
      state_class: measurement
      state: >-
        {% set house_consumption_active_power = states('sensor.house_consumption_power')|float(0) %}
        {% set aux_active_power = states('sensor.sunsynk_power_flow_aux_active_power')|float(0) %}
        {% set non_essential_active_power = states('sensor.sunsynk_power_flow_non_essential_active_power')|float(0) %}
        {{ (house_consumption_active_power - ( aux_active_power + non_essential_active_power))|float(0)|round(0) }}
      availability: >-
        {{ (states('sensor.house_consumption_power')|is_number)
            and (states('sensor.sunsynk_power_flow_aux_active_power')|is_number) 
              and (states('sensor.sunsynk_power_flow_non_essential_active_power')|is_number) }}
 